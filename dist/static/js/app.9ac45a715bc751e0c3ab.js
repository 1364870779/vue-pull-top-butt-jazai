webpackJsonp([2,0],[function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var l=s(9),o=i(l),n=s(29),u=i(n);new o["default"]({el:"body",components:{App:u["default"]}})},,,,,,,function(t,e){},function(t,e){},,function(t,e){t.exports=' <div id=app> <pull-to-refresh @on-pullup=onPullup @on-pulldown=onPulldown> <ul class=page> <li track-by=$index v-for="(item, i) in items"> # item {{ i }} </li> </ul> </pull-to-refresh> </div> '},function(t,e){t.exports=' <div class=pull-container _v-44dbc8e4=""> <div class=pull-body :style="{ transform: `translate3d(0,${diffMax}px,0)` }" _v-44dbc8e4=""> <div class=pulldown :class="[pulldownChangeStyle,{\'hide\':!displaypullDownDiv}]" _v-44dbc8e4=""> <div class=pulldown-icon _v-44dbc8e4=""></div> <div class=pulldown-label _v-44dbc8e4="">{{pullDownTip}}</div> </div> <slot _v-44dbc8e4=""></slot> <div class=pullup :class="[pullupChangeStyle,{\'hide\':!displaypullUpDiv}]" _v-44dbc8e4=""> <div class=pullup-icon _v-44dbc8e4=""></div> <div class=pullup-label _v-44dbc8e4="">{{pullUpTip}}</div> </div> </div> </div> '},,,,,,,,,,,,,,,function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var l=s(24),o=i(l),n=s(25),u=i(n),a="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,h=function(){function t(e){(0,o["default"])(this,t),this.el=e,this.startPos={},this.endPos={},this.starts=[],this.drags=[],this.ends=[],a?this.el.addEventListener("touchstart",this,!1):this.el.addEventListener("mousedown",this,!1)}return(0,u["default"])(t,[{key:"handleEvent",value:function(t){switch(t.type){case"touchstart":this.touchStart(t);break;case"touchmove":this.touchMove(t);break;case"touchcancel":case"touchend":this.touchEnd(t);break;case"mousedown":this.mouseStart(t);break;case"mousemove":this.mouseMove(t);break;case"mouseleave":case"mouseup":this.mouseEnd(t)}}},{key:"touchStart",value:function(t){var e=this,s=t.touches[0];this.startPos={x:s.pageX,y:s.pageY,time:(new Date).getTime()},this.endPos={},this.el.addEventListener("touchmove",this,!1),this.el.addEventListener("touchend",this,!1),this.starts.map(function(s){s.call(e,e.startPos,t)})}},{key:"touchMove",value:function(t){var e=this;if(!(t.touches.length>1||t.scale&&1!==t.scale)){var s=t.touches[0];this.endPos={x:s.pageX-this.startPos.x,y:s.pageY-this.startPos.y,time:(new Date).getTime()-this.startPos.time},this.drags.map(function(s){s.call(e,e.endPos,t)})}}},{key:"touchEnd",value:function(t){var e=this;this.endPos.time=(new Date).getTime()-this.startPos.time,this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.ends.map(function(s){s.call(e,e.endPos,t)})}},{key:"mouseStart",value:function(t){var e=this;this.startPos={x:t.clientX,y:t.clientY,time:(new Date).getTime()},this.endPos={},this.el.addEventListener("mousemove",this,!1),this.el.addEventListener("mouseup",this,!1),this.starts.map(function(s){s.call(e,e.startPos,t)})}},{key:"mouseMove",value:function(t){var e=this;this.endPos={x:t.clientX-this.startPos.x,y:t.clientY-this.startPos.y},this.drags.map(function(s){s.call(e,e.endPos,t)})}},{key:"mouseEnd",value:function(t){var e=this;this.el.removeEventListener("mousemove",this,!1),this.el.removeEventListener("mouseup",this,!1),this.endPos.time=(new Date).getTime()-this.startPos.time,this.ends.map(function(s){s.call(e,e.endPos,t)})}},{key:"start",value:function(t){return this.starts.push(t),this}},{key:"end",value:function(t){return this.ends.push(t),this}},{key:"drag",value:function(t){return this.drags.push(t),this}},{key:"reset",value:function(t){var e=t.touches?t.touches[0]:{};this.startPos={x:e.pageX||t.clientX,y:e.pageY||t.clientY,time:(new Date).getTime()},this.endPos={x:0,y:0}}},{key:"destory",value:function(){a?this.el.removeEventListener("touchstart",this,!1):this.el.removeEventListener("mousedown",this,!1)}}]),t}();e["default"]=h},function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var l=s(30),o=i(l);e["default"]={components:{PullToRefresh:o["default"]},data:function(){return{items:[2,3,4,5,1,2,3,4,5,2,3,4,5,1,2,3,4,5]}},methods:{onPullup:function(t){var e=this;console.log("onPullup"),setTimeout(function(){console.log("finshCallback"),e.items=[6,6,6,6,6,6,6,6,6,6,6],t()},3e3)},onPulldown:function(t){var e=this;console.log("onPulldown"),setTimeout(function(){console.log("finshCallback"),e.items=[9,9,9,9,9,9,9,9,9,9,9,9,9,9],t()},3e3)}}}},function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var l=s(26),o=i(l),n="下拉刷新",u="释放加载",a="加载中，请稍后",h="上拉刷新",r="释放加载",d="加载中，请稍后",p=-1,c=0,v=1,f=2,m="release",y="refresh";e["default"]={props:{maxScrollY:{type:Number,"default":150},disablePulldown:{type:Boolean,"default":!1},disablePullup:{type:Boolean,"default":!1}},computed:{diffMax:function(){return this.deltaY>0?this.deltaY>this.maxScrollY?this.maxScrollY:this.deltaY:this.deltaY<-this.maxScrollY?-this.maxScrollY:this.deltaY}},data:function(){return{end:0,deltaY:0,pullDownHeight:50,pullUpHeight:50,isTouchEnd:!1,displaypullDownDiv:!1,displaypullUpDiv:!1,pullUpTip:h,pullDownTip:n,refreshStep:p,timeoutHandler:0,timeout:8e3,pulldownChangeStyle:"",pullupChangeStyle:""}},attached:function(){this.registerDrag()},methods:{registerDrag:function(){var t=this.drager=new o["default"](this.$el);t.start(this._onTouchStart).drag(this._onTouchMove).end(this._onTouchEnd)},_onTouchStart:function(t,e){this.isTouchEnd=!1,this.start=t.y},_onTouchMove:function(t,e){t.y<5&&t.y>-5||(e.preventDefault(),e.stopPropagation(),this.deltaY=t.y,this.refreshStep==f||(!this.disablePulldown&&this.deltaY>0&&this.deltaY<this.pullDownHeight?(this.displaypullDownDiv=!0,this.displaypullUpDiv=!1,this.pulldownChangeStyle="",this.pullDownTip=n,this.refreshStep=c):!this.disablePulldown&&this.deltaY>=this.pullDownHeight?(this.pulldownChangeStyle=m,this.pullDownTip=u,this.refreshStep=v):!this.disablePullup&&this.deltaY<0&&-this.deltaY>=this.pullUpHeight?(this.pullupChangeStyle=m,this.pullUpTip=r,this.refreshStep=v):!this.disablePullup&&this.deltaY<0&&-this.deltaY<this.pullUpHeight&&(this.displaypullUpDiv=!0,this.displaypullDownDiv=!1,this.pullupChangeStyle="",this.pullUpTip=h,this.refreshStep=c)))},reset:function(){this.refreshStep!=p&&(this.refreshStep=p,this.disablePulldown||(this.displaypullDownDiv=!1,this.pulldownChangeStyle=""),this.disablePullup||(this.displaypullUpDiv=!1,this.pullupChangeStyle=""),clearTimeout(this.timeoutHandler))},_onTouchEnd:function(t,e){if(!(t.y<5&&t>-5)){this.isTouchEnd=!0,this.start=0,this.deltaY=0;var s=this;this.refreshStep==v?(this.disablePullup||this.pullupChangeStyle!=m?this.disablePulldown||this.pulldownChangeStyle!=m||(this.pulldownChangeStyle=y,this.pullDownTip=a,this.refreshStep=f,this.$emit("on-pulldown",this.reset)):(this.pullupChangeStyle=y,this.pullUpTip=d,this.refreshStep=f,this.$emit("on-pullup",this.reset)),this.timeoutHandler=window.setTimeout(function(){s.refreshStep==f&&s.reset()},this.timeout)):s.reset()}}}}},function(t,e,s){var i,l,o={};s(7),i=s(27),l=s(10),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]);var n="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;l&&(n.template=l),n.computed||(n.computed={}),Object.keys(o).forEach(function(t){var e=o[t];n.computed[t]=function(){return e}})},function(t,e,s){var i,l,o={};s(8),i=s(28),l=s(11),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]);var n="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;l&&(n.template=l),n.computed||(n.computed={}),Object.keys(o).forEach(function(t){var e=o[t];n.computed[t]=function(){return e}})}]);
//# sourceMappingURL=app.9ac45a715bc751e0c3ab.js.map